{"nodes": [{"index": "0", "tasks": ["0"], "name": "tweets", "weight": "1", "n_in": 0, "px": "300", "py": "200", "class": "circle", "y": "200", "x": "300", "fixed": "true", "id": "0", "n_out": 1}, {"index": "1", "tasks": ["2"], "name": "buffer", "weight": "2", "n_in": 1, "px": "200", "py": "200", "y": "200", "x": "200", "fixed": "true", "id": "1", "n_out": 1}, {"index": "2", "tasks": ["3"], "name": "filter", "weight": "2", "n_in": 1, "px": "200", "py": "300", "y": "300", "x": "200", "fixed": "true", "id": "2", "n_out": 1}, {"index": "3", "tasks": ["1"], "name": "convert", "weight": "2", "n_in": 1, "px": "300", "py": "300", "y": "300", "x": "300", "fixed": "true", "id": "3", "n_out": 1}, {"index": "4", "tasks": ["4"], "name": "products", "weight": "1", "n_in": 0, "px": "400", "py": "200", "class": "circle", "y": "200", "x": "400", "fixed": "true", "id": "4", "n_out": 1}, {"index": "5", "tasks": ["5"], "name": "select", "weight": "3", "n_in": 2, "px": "400", "py": "300", "y": "300", "x": "400", "fixed": "true", "id": "5", "n_out": 1}, {"index": "6", "tasks": ["6"], "name": "avgSent", "weight": "2", "n_in": 1, "px": "500", "py": "300", "y": "300", "x": "500", "fixed": "true", "id": "6", "n_out": 1}, {"index": "7", "tasks": ["7"], "name": "sales", "weight": "1", "n_in": 0, "px": "300", "py": "400", "class": "circle", "y": "400", "x": "300", "fixed": "true", "id": "7", "n_out": 1}, {"index": "8", "tasks": ["8"], "name": "filter", "weight": "2", "n_in": 1, "px": "400", "py": "400", "y": "400", "x": "400", "fixed": "true", "id": "8", "n_out": 1}, {"index": "9", "tasks": ["9"], "name": "totalSales", "weight": "2", "n_in": 1, "px": "500", "py": "400", "y": "400", "x": "500", "fixed": "true", "id": "9", "n_out": 1}, {"index": "10", "tasks": ["10"], "name": "join1", "weight": "3", "n_in": 2, "px": "600", "py": "300", "y": "300", "x": "600", "fixed": "true", "id": "10", "n_out": 1}, {"index": "11", "tasks": ["11"], "name": "campaign", "weight": "1", "n_in": 0, "px": "600", "py": "200", "class": "circle", "y": "200", "x": "600", "fixed": "true", "id": "11", "n_out": 1}, {"index": "12", "tasks": ["12"], "name": "filter", "weight": "2", "n_in": 1, "px": "700", "py": "200", "y": "200", "x": "700", "fixed": "true", "id": "12", "n_out": 1}, {"index": "13", "tasks": ["13"], "name": "join2", "weight": "3", "n_in": 2, "px": "700", "py": "300", "y": "300", "x": "700", "fixed": "true", "id": "13", "n_out": 1}, {"index": "14", "tasks": ["14"], "name": "result", "weight": "1", "n_in": 1, "px": "700", "py": "400", "class": "circle", "y": "400", "x": "700", "fixed": "true", "id": "14", "n_out": 0}], "tasks": [{"id": "0", "json": {"tweets&reviews": {"constraints": {"data_info": {"attributes": [{"user": {"type": "Varchar(15)"}}, {"text": {"type": "Varchar"}}, {"coord": {"type": "(Integer, Integer)"}}, {"timestamp": {"type": "Integer"}}]}}}}, "nodeId": "0", "name": "tweets reviews", "class": "circle"}, {"id": "1", "nodeId": 3, "name": "buffer", "class": "circle"}, {"id": "2", "json": {"filter": {"constraints": {"input": {"data_info": {"attributes": ["text", "coord", "timestamp"]}}, "output": {"data_info": {"attributes": ["text", "coord", "timestamp"]}}, "op_specification": {"algorithm": {"select": {"select_condition": ["convert(coord) = reg", "convert(timestamp) >= sD"]}}}}}}, "nodeId": 1, "name": "filter by reg&date", "class": "circle"}, {"id": "3", "json": {"calc": {"constraints": {"input": {"data_info": {"attributes": ["text", "coord", "timestamp"]}}, "output": {"data_info": {"attributes": ["tag", "sentiment", "region", "date"]}}, "op_specification": {"algorithm": {"calc": [{"calc_expression": "analyse(text)", "calc_attr": "tag"}, {"calc_expression": "analyse(text)", "calc_attr": "sentiment"}, {"calc_expression": "convert(coord)", "calc_attr": "region"}, {"calc_expression": "convert(timestamp)", "calc_attr": "date"}]}}}}}, "nodeId": 2, "name": "calc&conv", "class": "circle"}, {"id": "4", "json": {"products": {"constraints": {"data_info": {"attributes": [{"product_id": {"type": "Varchar(15)"}}, {"product": {"type": "Varchar(15)"}}]}}}}, "nodeId": "4", "name": "products", "class": "circle"}, {"id": "5", "json": {"select": {"constraints": {"input2": {"data_info": {"attributes": ["product_id", "product"]}}, "output": {"data_info": {"attributes": ["product_id", "sentiment", "coord", "timestamp"]}}, "input1": {"data_info": {"attributes": ["tag", "sentiment", "coord", "timestamp"]}}, "op_specification": {"algorithm": {"select": {"select_condition": ["compare(product, tag)"]}}}}}}, "nodeId": "5", "name": "select product", "class": "circle"}, {"id": "6", "json": {"calc": {"constraints": {"input": {"data_info": {"attributes": ["product_id", "sentiment", "region", "date"]}}, "output": {"data_info": {"attributes": ["product_id", "avgSentiment", "region", "date"]}}, "op_specification": {"algorithm": {"calc": [{"calc_expression": "avg(sentiment)", "calc_attr": "avgSentiment"}], "groupBy": ["date", "product_id", "region"]}}}}}, "nodeId": "6", "name": "calc avgSent", "class": "circle"}, {"id": "7", "json": {"sales": {"constraints": {"data_info": {"attributes": [{"product_id": {"type": "Varchar(15)"}}, {"region": {"type": "Varchar(15)"}}, {"date": {"type": "Integer"}}, {"quantity": {"type": "Integer"}}, {"price": {"type": "Integer"}}]}}}}, "nodeId": "7", "name": "sales", "class": "circle"}, {"id": "8", "json": {"filter": {"constraints": {"input": {"data_info": {"attributes": ["product_id", "date", "quantity", "price", "region"]}}, "output": {"data_info": {"attributes": ["product_id", "date", "quantity", "price", "region"]}}, "op_specification": {"algorithm": {"select": {"select_condition": ["product_id = pId", "region = reg", "date = sD"]}}}}}}, "nodeId": "8", "name": "filter by prod&reg", "class": "circle"}, {"id": "9", "json": {"calc": {"constraints": {"input": {"data_info": {"attributes": ["product_id", "date", "quantity", "price", "region"]}}, "output": {"data_info": {"attributes": ["product_id", "region", "date", "totalSales"]}}, "op_specification": {"algorithm": {"calc": [{"calc_expression": "quantity*price", "calc_attr": "totalSales"}], "groupBy": ["date", "product_id", "region"]}}}}}, "nodeId": "9", "name": "calc totalSales", "class": "circle"}, {"id": "10", "json": {"join1_by_prod&reg": {"constraints": {"input2": {"data_info": {"attributes": ["product_id", "region", "date", "totalSales"]}}, "output": {"data_info": {"attributes": ["product_id", "avgSentiment", "totalSales", "region", "date"]}}, "input1": {"data_info": {"attributes": ["product_id", "avgSentiment", "region", "date"]}}, "op_specification": {"algorithm": {"join": {"join_condition": ["input1.product_id = input2.product_id", "input1.region = input2.region", "input1.date = input2.date"]}}}}}}, "nodeId": "10", "name": "join1 by prod&reg", "class": "circle"}, {"id": "11", "json": {"campaign": {"constraints": {"data_info": {"attributes": [{"campaign_id": {"type": "Varchar(15)"}}, {"product_id": {"type": "Varchar(15)"}}, {"region": {"type": "Varchar(15)"}}, {"start_date": {"type": "Integer"}}, {"end_date": {"type": "Integer"}}]}}}}, "nodeId": "11", "name": "campaign", "class": "circle"}, {"id": "12", "json": {"filter": {"constraints": {"input": {"data_info": {"attributes": ["campaign_id", "product_id", "region", "start_date", "end_date"]}}, "output": {"data_info": {"attributes": ["campaign_id", "product_id", "region", "start_date", "end_date"]}}, "op_specification": {"algorithm": {"select": {"select_condition": ["product_id = pId", "region = reg", "start_date >= sD"]}}}}}}, "nodeId": "12", "name": "filter by prod&reg", "class": "circle"}, {"id": "13", "json": {"join2_by_prod&reg": {"constraints": {"input2": {"data_info": {"attributes": ["campaign_id", "product_id", "region", "start_date", "end_date"]}}, "output": {"data_info": {"attributes": ["campaign_id", "product_id", "avgSentiment", "totalSales", "region"]}}, "input1": {"data_info": {"attributes": ["product_id", "avgSentiment", "totalSales", "region", "date"]}}, "op_specification": {"algorithm": {"join": {"join_condition": ["input1.product_id = input2.product_id", "input1.region = input2.region"]}}}}}}, "nodeId": "13", "name": "join2 by prod&reg", "class": "circle"}, {"id": "14", "json": {"result": {"constraints": {"data_info": {"attributes": [{"campaign_id": {"type": "Varchar(15)"}}, {"product_id": {"type": "Varchar(15)"}}, {"region": {"type": "Varchar(15)"}}, {"avgSentiment": {"type": "Integer"}}, {"totalSales": {"type": "Integer"}}]}}}}, "nodeId": "14", "name": "result", "class": "circle"}], "links": [{"source": {"index": "0", "name": "tweets", "weight": "1", "px": "300", "py": "200", "class": "circle", "y": "200", "x": "300", "fixed": "true", "id": "0"}, "target": {"index": "1", "name": "buffer", "weight": "2", "px": "200", "py": "200", "y": "200", "x": "200", "fixed": "true", "id": "1"}, "sourceId": "0", "targetId": "1", "class": "dashed", "analysis": {"data_info": {}}, "id": "0"}, {"target": {"index": "2", "name": "filter", "weight": "2", "px": "200", "py": "300", "y": "300", "x": "200", "fixed": "true", "id": "2"}, "sourceId": "1", "targetId": "2", "analysis": {"data_info": {}}, "source": {"index": "1", "name": "buffer", "weight": "2", "px": "200", "py": "200", "y": "200", "x": "200", "fixed": "true", "id": "1"}, "id": "1"}, {"target": {"index": "3", "name": "convert", "weight": "2", "px": "300", "py": "300", "y": "300", "x": "300", "fixed": "true", "id": "3"}, "sourceId": "2", "targetId": "3", "analysis": {"data_info": {}}, "source": {"index": "2", "name": "filter", "weight": "2", "px": "200", "py": "300", "y": "300", "x": "200", "fixed": "true", "id": "2"}, "id": "2"}, {"target": {"index": "5", "name": "select", "weight": "3", "px": "400", "py": "300", "y": "300", "x": "400", "fixed": "true", "id": "5"}, "sourceId": "3", "targetId": "5", "analysis": {"data_info": {}}, "source": {"index": "3", "name": "convert", "weight": "2", "px": "300", "py": "300", "y": "300", "x": "300", "fixed": "true", "id": "3"}, "id": "3"}, {"source": {"index": "4", "name": "products", "weight": "1", "px": "400", "py": "200", "class": "circle", "y": "200", "x": "400", "fixed": "true", "id": "4"}, "target": {"index": "5", "name": "select", "weight": "3", "px": "400", "py": "300", "y": "300", "x": "400", "fixed": "true", "id": "5"}, "sourceId": "4", "targetId": "5", "class": "dashed", "analysis": {"data_info": {}}, "id": "4"}, {"target": {"index": "6", "name": "avgSent", "weight": "2", "px": "500", "py": "300", "y": "300", "x": "500", "fixed": "true", "id": "6"}, "sourceId": "5", "targetId": "6", "analysis": {"data_info": {}}, "source": {"index": "5", "name": "select", "weight": "3", "px": "400", "py": "300", "y": "300", "x": "400", "fixed": "true", "id": "5"}, "id": "5"}, {"target": {"index": "10", "name": "join1", "weight": "3", "px": "600", "py": "300", "y": "300", "x": "600", "fixed": "true", "id": "10"}, "sourceId": "6", "targetId": "10", "analysis": {"data_info": {}}, "source": {"index": "6", "name": "avgSent", "weight": "2", "px": "500", "py": "300", "y": "300", "x": "500", "fixed": "true", "id": "6"}, "id": "6"}, {"source": {"index": "7", "name": "sales", "weight": "1", "px": "300", "py": "400", "class": "circle", "y": "400", "x": "300", "fixed": "true", "id": "7"}, "target": {"index": "8", "name": "filter", "weight": "2", "px": "400", "py": "400", "y": "400", "x": "400", "fixed": "true", "id": "8"}, "sourceId": "7", "targetId": "8", "class": "dashed", "analysis": {"data_info": {}}, "id": "7"}, {"target": {"index": "9", "name": "totalSales", "weight": "2", "px": "500", "py": "400", "y": "400", "x": "500", "fixed": "true", "id": "9"}, "sourceId": "8", "targetId": "9", "analysis": {"data_info": {}}, "source": {"index": "8", "name": "filter", "weight": "2", "px": "400", "py": "400", "y": "400", "x": "400", "fixed": "true", "id": "8"}, "id": "8"}, {"target": {"index": "10", "name": "join1", "weight": "3", "px": "600", "py": "300", "y": "300", "x": "600", "fixed": "true", "id": "10"}, "sourceId": "9", "targetId": "10", "analysis": {"data_info": {}}, "source": {"index": "9", "name": "totalSales", "weight": "2", "px": "500", "py": "400", "y": "400", "x": "500", "fixed": "true", "id": "9"}, "id": "9"}, {"target": {"index": "13", "name": "join2", "weight": "3", "px": "700", "py": "300", "y": "300", "x": "700", "fixed": "true", "id": "13"}, "sourceId": "10", "targetId": "13", "analysis": {"data_info": {}}, "source": {"index": "10", "name": "join1", "weight": "3", "px": "600", "py": "300", "y": "300", "x": "600", "fixed": "true", "id": "10"}, "id": "10"}, {"source": {"index": "11", "name": "campaign", "weight": "1", "px": "600", "py": "200", "class": "circle", "y": "200", "x": "600", "fixed": "true", "id": "11"}, "target": {"index": "12", "name": "filter", "weight": "2", "px": "700", "py": "200", "y": "200", "x": "700", "fixed": "true", "id": "12"}, "sourceId": "11", "targetId": "12", "class": "dashed", "analysis": {"data_info": {}}, "id": "11"}, {"target": {"index": "13", "name": "join2", "weight": "3", "px": "700", "py": "300", "y": "300", "x": "700", "fixed": "true", "id": "13"}, "sourceId": "12", "targetId": "13", "analysis": {"data_info": {}}, "source": {"index": "12", "name": "filter", "weight": "2", "px": "700", "py": "200", "y": "200", "x": "700", "fixed": "true", "id": "12"}, "id": "12"}, {"source": {"index": "13", "name": "join2", "weight": "3", "px": "700", "py": "300", "y": "300", "x": "700", "fixed": "true", "id": "13"}, "target": {"index": "14", "name": "result", "weight": "1", "px": "700", "py": "400", "class": "circle", "y": "400", "x": "700", "fixed": "true", "id": "14"}, "sourceId": "13", "targetId": "14", "class": "dashed", "analysis": {"data_info": {"data_info": {"attributes": [{"campaign_id": {"type": "Varchar(15)"}}, {"product_id": {"type": "Varchar(15)"}}, {"region": {"type": "Varchar(15)"}}, {"avgSentiment": {"type": "Integer"}}, {"totalSales": {"type": "Integer"}}]}}}, "id": "13"}]}